<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toolify Grammar Pro AI | Ultimate Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #f5f5f7; --card: #ffffff; --text: #1d1d1f; --p: #0071e3;
            --sec: #86868b; --border: #d2d2d7; --accent: #f5f5f7;
        }
        body.dark-mode {
            --bg: #000000; --card: #1c1c1e; --text: #f5f5f7; --p: #0a84ff;
            --sec: #8e8e93; --border: #38383a; --accent: #2c2c2e;
        }
        body {
            margin: 0; font-family: 'Inter', sans-serif; background: var(--bg);
            color: var(--text); transition: 0.3s; display: flex; flex-direction: column; min-height: 100vh;
        }
        header {
            width: 100%; max-width: 1000px; margin: 0 auto; padding: 20px;
            display: flex; justify-content: space-between; align-items: center; box-sizing: border-box;
        }
        .hub-link {
            text-decoration: none; color: var(--p); font-weight: 700; font-size: 13px;
            border: 1px solid var(--p); padding: 8px 16px; border-radius: 20px; transition: 0.3s;
        }
        .hub-link:hover { background: var(--p); color: white; }
        
        .container { width: 90%; max-width: 800px; margin: 20px auto; flex: 1; }
        .tool-title { text-align: center; margin-bottom: 30px; }
        .tool-title h1 { font-size: 3rem; font-weight: 800; letter-spacing: -2px; margin: 0; }
        
        .card {
            background: var(--card); border-radius: 30px; padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.05); border: 1px solid var(--border);
        }

        .controls { display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap; }
        select, .btn-small {
            padding: 10px 15px; border-radius: 12px; border: 1px solid var(--border);
            background: var(--accent); color: var(--text); font-weight: 600; cursor: pointer; outline: none;
        }

        textarea {
            width: 100%; height: 220px; background: var(--accent);
            border: 1px solid var(--border); border-radius: 20px; padding: 20px;
            color: var(--text); font-size: 16px; resize: none; outline: none;
            box-sizing: border-box; line-height: 1.6; font-family: inherit;
        }

        .main-btn {
            width: 100%; background: var(--p); color: white; border: none;
            padding: 20px; border-radius: 18px; font-weight: 800; font-size: 18px;
            margin-top: 20px; cursor: pointer; transition: 0.3s;
        }
        .main-btn:hover { transform: scale(1.02); box-shadow: 0 10px 30px rgba(0, 113, 227, 0.4); }

        .stats {
            display: flex; justify-content: space-around; margin-top: 15px;
            font-size: 12px; font-weight: 700; color: var(--sec); text-transform: uppercase;
        }

        .result-area {
            margin-top: 30px; display: none; animation: slideUp 0.5s ease;
        }
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        .output-box {
            background: var(--card); border: 2px solid var(--p); padding: 25px;
            border-radius: 25px; position: relative; font-size: 17px; line-height: 1.8;
        }
        .copy-tag {
            position: absolute; top: 10px; right: 10px; background: var(--p);
            color: white; padding: 5px 12px; border-radius: 8px; font-size: 10px;
            font-weight: 800; cursor: pointer; border: none;
        }

        footer {
            padding: 40px; text-align: center; font-weight: 600; color: var(--sec);
            font-size: 13px; border-top: 1px solid var(--border); margin-top: 50px;
        }
    </style>
</head>
<body>

<header>
    <a href="index.html" class="hub-link">üè† TOOLIFY HUB</a>
    <div style="display: flex; gap: 10px; align-items: center;">
        <span style="font-size: 12px; font-weight: 800; color: var(--sec);">AI ACTIVE</span>
        <button class="btn-small" onclick="toggleTheme()">üåì</button>
    </div>
</header>

<div class="container">
    <div class="tool-title">
        <h1>Grammar <span style="color:var(--p)">Pro AI</span></h1>
        <p style="color:var(--sec); font-weight: 600;">The ultimate grammar, tone, and vocabulary polisher.</p>
    </div>

    <div class="card">
        <div class="controls">
            <select id="tone">
                <option value="pro">Professional Tone</option>
                <option value="casual">Friendly Tone</option>
                <option value="academic">Academic Tone</option>
            </select>
            <button class="btn-small" onclick="clearText()">Clear</button>
        </div>
        
        <textarea id="userInput" placeholder="Paste your paragraph here... (Errors: i dont think they is coming because it are raining...)" oninput="updateStats()"></textarea>
        
        <div class="stats">
            <span id="wordCount">0 Words</span>
            <span id="charCount">0 Characters</span>
            <span id="readability">Ready</span>
        </div>

        <button class="main-btn" onclick="fixAll()">FIX & ENHANCE EVERYTHING</button>
    </div>

    <div class="result-area" id="resultArea">
        <div style="font-size: 12px; font-weight: 800; color: var(--p); margin-bottom: 10px; text-transform: uppercase;">‚ú® Toolify AI Corrected Version</div>
        <div class="output-box">
            <button class="copy-tag" onclick="copyText()">COPY TEXT</button>
            <div id="output"></div>
        </div>
    </div>
</div>

<footer>
    DEVELOPED WITH <span style="color: #ff3b30;">‚ù§</span> BY MOHAK | ¬© 2025 TOOLIFY HUB
</footer>

<script>
    function toggleTheme() {
        document.body.classList.toggle('dark-mode');
        localStorage.setItem('t_theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
    }
    if(localStorage.getItem('t_theme') === 'dark') document.body.classList.add('dark-mode');

    function updateStats() {
        const text = document.getElementById('userInput').value.trim();
        const words = text ? text.split(/\s+/).length : 0;
        document.getElementById('wordCount').innerText = `${words} Words`;
        document.getElementById('charCount').innerText = `${text.length} Characters`;
    }

    function clearText() {
        document.getElementById('userInput').value = '';
        document.getElementById('resultArea').style.display = 'none';
        updateStats();
    }

    function fixAll() {
        let t = document.getElementById('userInput').value;
        if(!t.trim()) return alert("Please enter text!");
        const tone = document.getElementById('tone').value;

        // 1. Basic Formatting
        t = t.trim().replace(/\s\s+/g, ' ');

        // 2. THE MEGA LOGIC ENGINE (Grammar + Subject/Verb + Articles)
        const rules = [
            [/\bi(?=['\s]|$)/g, "I"], // Fix standalone 'i'
            [/\bthey is\b/gi, "they are"],
            [/\bit are\b/gi, "it is"],
            [/\bi is\b/gi, "I am"],
            [/\bwe was\b/gi, "we were"],
            [/\byou was\b/gi, "you were"],
            [/\bhe have\b/gi, "he has"],
            [/\bshe have\b/gi, "she has"],
            [/\bit have\b/gi, "it has"],
            [/\bdont\b/gi, "don't"],
            [/\bdoesnt\b/gi, "doesn't"],
            [/\bcant\b/gi, "can't"],
            [/\bwont\b/gi, "won't"],
            [/\barent\b/gi, "aren't"],
            [/\bisnt\b/gi, "isn't"],
            [/\ba hour\b/gi, "an hour"],
            [/\ba apple\b/gi, "an apple"],
            [/\ba orange\b/gi, "an orange"],
            [/\ba egg\b/gi, "an egg"],
            [/\ba ice\b/gi, "an ice"],
            [/\breally badly\b/gi, "really bad"],
            [/\bit never come\b/gi, "it never came"],
            [/\bno one want\b/gi, "no one wants"],
            [/\bgonna\b/gi, "going to"],
            [/\bwanna\b/gi, "want to"],
            [/\bif i was you\b/gi, "if I were you"],
            [/\b(he|she|it) don't\b/gi, "$1 doesn't"],
            [/\bwas waiting for a hour\b/gi, "were waiting for an hour"]
        ];

        // 3. VOCABULARY ENHANCER (Only if Professional Tone)
        if(tone === 'pro') {
            const vocab = [
                [/\bvery good\b/gi, "excellent"],
                [/\bvery bad\b/gi, "terrible"],
                [/\bhappy\b/gi, "delighted"],
                [/\bsad\b/gi, "unfortunate"],
                [/\bthink\b/gi, "believe"],
                [/\bwatch movie\b/gi, "watch a movie"],
                [/\bget wet\b/gi, "become drenched"]
            ];
            vocab.forEach(([r, v]) => t = t.replace(r, v));
        }

        // Apply rules
        rules.forEach(([r, v]) => t = t.replace(r, v));

        // 4. Punctuation Spacing
        t = t.replace(/,(?!\s)/g, ", ");
        t = t.replace(/\.(?!\s)/g, ". ");

        // 5. Ultimate Sentence Capitalization
        t = t.replace(/(^\w|\.\s+\w)/gm, s => s.toUpperCase());

        document.getElementById('output').innerText = t;
        document.getElementById('resultArea').style.display = 'block';
    }

    function copyText() {
        navigator.clipboard.writeText(document.getElementById('output').innerText);
        alert("Enhanced text copied to clipboard!");
    }
</script>
</body>
</html>
